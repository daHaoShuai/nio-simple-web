<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>

<body>
    <h1>hello</h1>
    <button onclick="send()">发送</button>
    <script>

        // 开启websocket服务
        const socket = new WebSocket('ws://localhost:8080/ws');

        // 监听连接
        socket.onopen = () => {
            console.log("开启websocket")
        }

        // 监听消息
        socket.onmessage = ({ data }) => {
            console.log(data)
        }

        // 监听关闭
        socket.onclose = () => {
            console.log('websocket关闭')
        }

        // 监听错误
        socket.onerror = () => {
            console.log('连接错误')
        }

        // 发送消息
        const send = () => {
            socket.send("你好我是浏览器,你好我是浏览器,你好我是浏览器,你好我是浏览器,你好我是浏览器")
        }
    </script>
</body>

</html>